<!DOCTYPE html>
<html>

<head>

    <script>
        getData();

        // async function getData() {
        //     const response = await fetch(
        //         "https://v-dresevic.github.io/Advanced-JavaScript-Programming/data/students.txt");
        //     const data = await response.text();

        //     const rows = data.split("\n");
        //     const students = [];

        //     for (let j = 0; j < rows.length; j) {
        //         let student = {
        //             Name: rows[j++],
        //             Address: rows[j++],
        //             Phone: rows[j++],
        //             Course: rows[j++],
        //         }
        //         students.push(student)
        //     }

        //     students.forEach((student, key) => {
        //         for (var propName in student) {
        //             document.write(propName + `: ${student[propName]}<br>`);
        //         }
        //         document.write('<br>');
        //     })


        // }

        async function getData() {
            const response = await fetch(
                "https://v-dresevic.github.io/Advanced-JavaScript-Programming/data/students.txt");
            const data = await response.text();

            const rows = data.split("\n");
            
            let doc = document.getElementById('container');

            for (let j = 0; j < rows.length; j) {
                let student = {
                    Name: rows[j++],
                    Address: rows[j++],
                    Phone: rows[j++],
                    Course: rows[j++],
                    Url: 'https://via.placeholder.com/150.png'
                }

                for (var propName in student) {
                    // doc.innerHTML += propName + `: ${student[propName]}<br>`;
                    // doc.innerHTML = doc.innerHTML + propName + ': ' + student[propName] + '<br>';

                    if(propName === 'Url') {
                        doc.innerHTML += `<img class='aleksa-img' src='${student[propName]}'/>`
                    } else {
                        doc.innerHTML += propName + ': ' + student[propName] + '<br>';
                    }
                }

                doc.innerHTML += '<br>';
            }


        }
    </script>
    <style>
        .aleksa-img {
            box-shadow: 5px 10px black;
        }
        .aleksa-img:hover {
            box-shadow: 5px 10px red;
        }
    </style>
</head>

<body>
    <div id="container"></div>
</body>

</html>